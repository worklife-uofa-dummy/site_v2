<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Image Carousel</title>
<style>
  .carousel-container {
    max-width: 700px;
    margin: auto;
    position: relative;
  }
  .carousel-slide {
    width: auto;
    max-width: 700px;
    position: absolute;
    top: 0;
    left: 0;
    opacity: 0;
    height: auto;
    transition: opacity 1s ease-in-out;
    cursor: pointer;
  }
  .carousel-slide.active {
    position: absolute;
    max-width: 700px;
    height: auto;
    transition: opacity 1s ease-in-out;
    top: 0;
    left: 0;
    opacity: 1;
  }
  .carousel-arrow-left {
    left: 0;
    position: absolute;
    width: 100px;
    height: 700px;
    opacity: 0;
    pointer-events: none;
    transition: opacity 0.3s ease-in-out;
    z-index: 1;
  }
  .carousel-arrow-right {
    right: 0;
    position: absolute;
    width: 100px;
    height: 700px;
    cursor: pointer;
    pointer-events: none;
    transition: opacity 0.3s ease-in-out;
    z-index: 1;
  }

  .carousel-preview-container {
    max-width: 700px;
    margin: 0 auto;
    display: flex;
    justify-content: space-between;
    margin-top: 0px;
    margin-bottom: 20px;
    overflow: hidden;
  }
  .carousel-preview-image {
    width: 30%;
    opacity: 0.5;
    transition: opacity 0.3s ease-in-out;
    height: auto;
    cursor: pointer;
  }
  .carousel-preview-image.active {
    opacity: 1;
    transition: opacity 0.3s ease-in-out;
  }

</style>
</head>
<body>

<div class="carousel-preview-container">
    <h1>EXHIBITIONS</h1>
</div>

<div class="carousel-preview-container">
        <img class="carousel-preview-image" src="/assets/img/img_cindyJulaton_present.jpg" alt="Preview Image 1">
        <img class="carousel-preview-image" src="/assets/img/img_joanneHall_present.jpg" alt="Preview Image 2">
        <img class="carousel-preview-image" src="/assets/img/img_olivierGutknecht_present.jpg" alt="Preview Image 3">
        <img class="carousel-preview-image" src="/assets/img/img_darrenGale_present.jpg" alt="Preview Image 3">
        <img class="carousel-preview-image" src="/assets/img/img_davidFleming_present.jpg" alt="Preview Image 3">
</div>

<div class="carousel-container">
  <img class="carousel-slide active" src="/assets/img/img_cindyJulaton_present.jpg" alt="Image 1">
  <img class="carousel-slide" src="/assets/img/img_joanneHall_present.jpg" alt="Image 2">
  <img class="carousel-slide" src="/assets/img/img_olivierGutknecht_present.jpg" alt="Image 3">
  <img class="carousel-slide" src="/assets/img/img_darrenGale_present.jpg" alt="Image 3">
  <img class="carousel-slide" src="/assets/img/img_davidFleming_present.jpg" alt="Image 3">

  <img class="carousel-arrow-left" src="/assets/img/img_carouselArrow_left.png" alt="arrow">
  <img class="carousel-arrow-right" src="/assets/img/img_carouselArrow_right.png" alt="arrow">
  <!-- Add more images here -->
</div>

<script>
    document.addEventListener("DOMContentLoaded", function() {
      const slides = document.querySelectorAll('.carousel-slide');
      const previewImages = document.querySelectorAll('.carousel-preview-image');
      const carouselContainer = document.querySelector('.carousel-container');
      const leftArrow = document.querySelector('.carousel-arrow-left');
      const rightArrow = document.querySelector('.carousel-arrow-right');
      let currentSlide = 0;
      let transitioning = false;

      carouselContainer.addEventListener('mousemove', function(event) {
      const containerWidth = carouselContainer.offsetWidth;
      const mouseX = event.clientX - carouselContainer.getBoundingClientRect().left;
      
      if (mouseX <= containerWidth / 2) {
        leftArrow.style.opacity = '0.8';
        rightArrow.style.opacity = '0';// Adjust opacity when mouse is on the left side
      } else {
        rightArrow.style.opacity = '0.8';
        leftArrow.style.opacity = '0'; // Hide left arrow when mouse is on the right side
      }
      });

      carouselContainer.addEventListener('mouseleave', function() {
      // Reset opacity of both arrows when mouse leaves container
      leftArrow.style.opacity = '0';
      rightArrow.style.opacity = '0';
      });

      function showSlide(n) {
        if (transitioning) return; // If still transitioning, ignore
        transitioning = true;
        slides[currentSlide].classList.remove('active');
        previewImages[currentSlide].classList.remove('active');
        currentSlide = n % slides.length;
        slides[currentSlide].classList.add('active');
        previewImages[currentSlide].classList.add('active');
        updatePreviewImages();
      }

      function updatePreviewImages() {
      const numImages = previewImages.length;
      let startIndex = (currentSlide - 1) % numImages;
      let endIndex = (currentSlide + 1) % numImages;

      // Adjust indices for wrap-around
      if (startIndex < 0) {
        startIndex += numImages;
      }

      if (endIndex >= numImages) {
        endIndex -= numImages;
      }

      previewImages.forEach((image, index) => {
        if ((startIndex <= endIndex && index >= startIndex && index <= endIndex) ||
            (startIndex > endIndex && (index >= startIndex || index <= endIndex))) {
          image.style.display = 'inline-block'; // Show images within range
        } else {
          image.style.display = 'none'; // Hide images outside range
        }
      });
    }
  
      function handleClick(event) {
        const slideWidth = this.offsetWidth;
        const clickX = event.clientX - this.getBoundingClientRect().left;
        if (clickX < slideWidth / 2) {
          showSlide(currentSlide - 1); // Previous slide
        } else {
          showSlide(currentSlide + 1); // Next slide
        }
      }
  
      slides.forEach((slide, index) => {
        slide.addEventListener('transitionend', function(event) {
          if (event.propertyName === 'opacity') {
            transitioning = false;
          }
        });
        slide.addEventListener('click', handleClick);
      });
  
      // Add click event listeners to preview images
    previewImages.forEach((image, index) => {
      image.addEventListener('click', () => showSlide(index));
    });
    // Show the first slide initially
    previewImages[currentSlide].classList.add('active');
    updatePreviewImages();
});
  </script>


</body>
</html>
